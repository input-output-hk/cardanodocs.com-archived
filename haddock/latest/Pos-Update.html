<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pos.Update</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Pos-Update.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Pos.Update.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cardano-sl-0.4.3: Cardano SL main implementation</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Pos.Update</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Proposals</a></li><li><a href="#g:2">Votes</a></li><li><a href="#g:3">Normalization</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Whole Update System in one module :)</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short">module <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core.html">Pos.Update.Core</a></li><li class="src short"><a href="#v:downloadUpdate">downloadUpdate</a> :: <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Mode.html#t:UpdateMode">UpdateMode</a> m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Poll-Types.html#t:ConfirmedProposalState">ConfirmedProposalState</a> -&gt; m ()</li><li class="src short"><a href="#v:downloadHash">downloadHash</a> :: [<a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text.html#t:Text">Text</a>] -&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Crypto-Hashing.html#t:Hash">Hash</a> <a href="http://hackage.haskell.org/package/universum-0.4.1/docs/Universum.html#t:LByteString">LByteString</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/System-IO.html#t:IO">IO</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Either.html#t:Either">Either</a> <a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text.html#t:Text">Text</a> <a href="http://hackage.haskell.org/package/universum-0.4.1/docs/Universum.html#t:LByteString">LByteString</a>)</li><li class="src short"><a href="#v:usApplyBlocks">usApplyBlocks</a> :: (<a href="http://hackage.haskell.org/package/exceptions-0.8.3/docs/Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m, USGlobalApplyMode m) =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:NE">NE</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateBlock">UpdateBlock</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Poll-Types.html#t:PollModifier">PollModifier</a> -&gt; m [<a href="http://hackage.haskell.org/package/cardano-sl-db-0.4.3/docs/Pos-DB-Functions.html#t:SomeBatchOp">SomeBatchOp</a>]</li><li class="src short"><a href="#v:usCanCreateBlock">usCanCreateBlock</a> :: (<a href="http://hackage.haskell.org/package/log-warper-1.1.2/docs/System-Wlog-CanLog.html#t:WithLogger">WithLogger</a> m, <a href="http://hackage.haskell.org/package/cardano-sl-db-0.4.3/docs/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Context.html#t:HasContext">HasContext</a> <a href="http://hackage.haskell.org/package/cardano-sl-lrc-0.4.3/docs/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a> m) =&gt; m <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:usRollbackBlocks">usRollbackBlocks</a> :: <span class="keyword">forall</span> m. USGlobalApplyMode m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:NE">NE</a> (<a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateBlock">UpdateBlock</a>, <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Poll-Types.html#t:USUndo">USUndo</a>) -&gt; m [<a href="http://hackage.haskell.org/package/cardano-sl-db-0.4.3/docs/Pos-DB-Functions.html#t:SomeBatchOp">SomeBatchOp</a>]</li><li class="src short"><a href="#v:usVerifyBlocks">usVerifyBlocks</a> :: USGlobalVerifyMode m =&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:NE">NE</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateBlock">UpdateBlock</a> -&gt; m (<a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Poll-Types.html#t:PollModifier">PollModifier</a>, <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:NE">NE</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Poll-Types.html#t:USUndo">USUndo</a>)</li><li class="src short"><a href="#v:isProposalNeeded">isProposalNeeded</a> :: (<a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Context.html#t:HasContext">HasContext</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Context.html#t:UpdateContext">UpdateContext</a> m, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpId">UpId</a> -&gt; m <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:getLocalProposalNVotes">getLocalProposalNVotes</a> :: (<a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Context.html#t:HasContext">HasContext</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Context.html#t:UpdateContext">UpdateContext</a> m, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpId">UpId</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateProposal">UpdateProposal</a>, [<a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateVote">UpdateVote</a>]))</li><li class="src short"><a href="#v:processProposal">processProposal</a> :: USLocalLogicMode m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateProposal">UpdateProposal</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Either.html#t:Either">Either</a> PollVerFailure ())</li><li class="src short"><a href="#v:isVoteNeeded">isVoteNeeded</a> :: USLocalLogicMode m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpId">UpId</a> -&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Crypto-Signing.html#t:PublicKey">PublicKey</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> -&gt; m <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:getLocalVote">getLocalVote</a> :: (<a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Context.html#t:HasContext">HasContext</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Context.html#t:UpdateContext">UpdateContext</a> m, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpId">UpId</a> -&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Crypto-Signing.html#t:PublicKey">PublicKey</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateVote">UpdateVote</a>)</li><li class="src short"><a href="#v:processVote">processVote</a> :: USLocalLogicMode m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateVote">UpdateVote</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Either.html#t:Either">Either</a> PollVerFailure ())</li><li class="src short"><a href="#v:usNormalize">usNormalize</a> :: USLocalLogicMode m =&gt; m ()</li><li class="src short"><a href="#v:processNewSlot">processNewSlot</a> :: USLocalLogicMode m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Core-Types.html#t:SlotId">SlotId</a> -&gt; m ()</li><li class="src short"><a href="#v:usPreparePayload">usPreparePayload</a> :: USLocalLogicMode m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Core-Types.html#t:SlotId">SlotId</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdatePayload">UpdatePayload</a>)</li><li class="src short"><a href="#v:usLrcConsumer">usLrcConsumer</a> :: <a href="http://hackage.haskell.org/package/cardano-sl-db-0.4.3/docs/Pos-DB-Class.html#t:MonadDBCore">MonadDBCore</a> m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-lrc-0.4.3/docs/Pos-Lrc-Consumer.html#t:LrcConsumer">LrcConsumer</a> m</li><li class="src short">module <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-MemState.html">Pos.Update.MemState</a></li><li class="src short"><a href="#v:usListeners">usListeners</a> :: <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Mode.html#t:UpdateMode">UpdateMode</a> m =&gt; m ([<a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:ListenerSpec">ListenerSpec</a> m], <a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:OutSpecs">OutSpecs</a>)</li><li class="src short"><a href="#v:usStubListeners">usStubListeners</a> :: <a href="http://hackage.haskell.org/package/log-warper-1.1.2/docs/System-Wlog-CanLog.html#t:WithLogger">WithLogger</a> m =&gt; ([<a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:ListenerSpec">ListenerSpec</a> m], <a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:OutSpecs">OutSpecs</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:ProposalMsgTag">ProposalMsgTag</a> = <a href="#v:ProposalMsgTag">ProposalMsgTag</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:VoteMsgTag">VoteMsgTag</a> = <a href="#v:VoteMsgTag">VoteMsgTag</a></li><li class="src short">module <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Params.html">Pos.Update.Params</a></li><li class="src short"><a href="#v:usWorkers">usWorkers</a> :: <a href="Pos-WorkMode.html#t:WorkMode">WorkMode</a> ssc m =&gt; m (<a href="http://hackage.haskell.org/package/containers-0.5.7.1/docs/Data-Set.html#t:Set">Set</a> <a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:NodeId">NodeId</a>) -&gt; ([<a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:WorkerSpec">WorkerSpec</a> m], <a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:OutSpecs">OutSpecs</a>)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src">module <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core.html">Pos.Update.Core</a></p></div><div class="top"><p class="src"><a id="v:downloadUpdate" class="def">downloadUpdate</a> :: <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Mode.html#t:UpdateMode">UpdateMode</a> m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Poll-Types.html#t:ConfirmedProposalState">ConfirmedProposalState</a> -&gt; m () <a href="src/Pos.Update.Download.html#downloadUpdate" class="link">Source</a> <a href="#v:downloadUpdate" class="selflink">#</a></p><div class="doc"><p>Download and save archive update by given <code><a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Poll-Types.html#t:ConfirmedProposalState">ConfirmedProposalState</a></code></p></div></div><div class="top"><p class="src"><a id="v:downloadHash" class="def">downloadHash</a> :: [<a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text.html#t:Text">Text</a>] -&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Crypto-Hashing.html#t:Hash">Hash</a> <a href="http://hackage.haskell.org/package/universum-0.4.1/docs/Universum.html#t:LByteString">LByteString</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/System-IO.html#t:IO">IO</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Either.html#t:Either">Either</a> <a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text.html#t:Text">Text</a> <a href="http://hackage.haskell.org/package/universum-0.4.1/docs/Universum.html#t:LByteString">LByteString</a>) <a href="src/Pos.Update.Download.html#downloadHash" class="link">Source</a> <a href="#v:downloadHash" class="selflink">#</a></p><div class="doc"><p>Download a file by its hash.</p><p>Tries all servers in turn, fails if none of them work.</p></div></div><div class="top"><p class="src"><a id="v:usApplyBlocks" class="def">usApplyBlocks</a> :: (<a href="http://hackage.haskell.org/package/exceptions-0.8.3/docs/Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m, USGlobalApplyMode m) =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:NE">NE</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateBlock">UpdateBlock</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Poll-Types.html#t:PollModifier">PollModifier</a> -&gt; m [<a href="http://hackage.haskell.org/package/cardano-sl-db-0.4.3/docs/Pos-DB-Functions.html#t:SomeBatchOp">SomeBatchOp</a>] <a href="src/Pos.Update.Logic.Global.html#usApplyBlocks" class="link">Source</a> <a href="#v:usApplyBlocks" class="selflink">#</a></p><div class="doc"><p>Apply chain of <em>definitely</em> valid blocks to US part of GState DB
 and to US local data. This function assumes that no other thread
 applies block in parallel. It also assumes that parent of oldest
 block is current tip.  If verification is done prior to
 application, one can pass <code><a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Poll-Types.html#t:PollModifier">PollModifier</a></code> obtained from verification
 to this function.</p></div></div><div class="top"><p class="src"><a id="v:usCanCreateBlock" class="def">usCanCreateBlock</a> :: (<a href="http://hackage.haskell.org/package/log-warper-1.1.2/docs/System-Wlog-CanLog.html#t:WithLogger">WithLogger</a> m, <a href="http://hackage.haskell.org/package/cardano-sl-db-0.4.3/docs/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Context.html#t:HasContext">HasContext</a> <a href="http://hackage.haskell.org/package/cardano-sl-lrc-0.4.3/docs/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a> m) =&gt; m <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="src/Pos.Update.Logic.Global.html#usCanCreateBlock" class="link">Source</a> <a href="#v:usCanCreateBlock" class="selflink">#</a></p><div class="doc"><p>Checks whether our software can create block according to current
 global state.</p></div></div><div class="top"><p class="src"><a id="v:usRollbackBlocks" class="def">usRollbackBlocks</a> :: <span class="keyword">forall</span> m. USGlobalApplyMode m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:NE">NE</a> (<a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateBlock">UpdateBlock</a>, <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Poll-Types.html#t:USUndo">USUndo</a>) -&gt; m [<a href="http://hackage.haskell.org/package/cardano-sl-db-0.4.3/docs/Pos-DB-Functions.html#t:SomeBatchOp">SomeBatchOp</a>] <a href="src/Pos.Update.Logic.Global.html#usRollbackBlocks" class="link">Source</a> <a href="#v:usRollbackBlocks" class="selflink">#</a></p><div class="doc"><p>Revert application of given blocks to US part of GState DB and US local
 data. The caller must ensure that the tip stored in DB is <code>headerHash</code> of
 head.</p></div></div><div class="top"><p class="src"><a id="v:usVerifyBlocks" class="def">usVerifyBlocks</a> :: USGlobalVerifyMode m =&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:NE">NE</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateBlock">UpdateBlock</a> -&gt; m (<a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Poll-Types.html#t:PollModifier">PollModifier</a>, <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Chrono.html#t:NE">NE</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Poll-Types.html#t:USUndo">USUndo</a>) <a href="src/Pos.Update.Logic.Global.html#usVerifyBlocks" class="link">Source</a> <a href="#v:usVerifyBlocks" class="selflink">#</a></p><div class="doc"><p>Verify whether sequence of blocks can be applied to US part of
 current GState DB.  This function doesn't make pure checks, they
 are assumed to be done earlier, most likely during objects
 construction.</p><p>If the first argument is <code><a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#v:True">True</a></code> it means that all data must be
 known. Currently it only means that <code>UpdateProposal</code>s must have
 only known attributes, but I can't guarantee this comment will
 always be up-to-date.</p></div></div><h1 id="g:1">Proposals</h1><div class="top"><p class="src"><a id="v:isProposalNeeded" class="def">isProposalNeeded</a> :: (<a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Context.html#t:HasContext">HasContext</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Context.html#t:UpdateContext">UpdateContext</a> m, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpId">UpId</a> -&gt; m <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="src/Pos.Update.Logic.Local.html#isProposalNeeded" class="link">Source</a> <a href="#v:isProposalNeeded" class="selflink">#</a></p><div class="doc"><p>This function returns true if update proposal with given
 identifier should be requested.</p></div></div><div class="top"><p class="src"><a id="v:getLocalProposalNVotes" class="def">getLocalProposalNVotes</a> :: (<a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Context.html#t:HasContext">HasContext</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Context.html#t:UpdateContext">UpdateContext</a> m, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpId">UpId</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateProposal">UpdateProposal</a>, [<a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateVote">UpdateVote</a>])) <a href="src/Pos.Update.Logic.Local.html#getLocalProposalNVotes" class="link">Source</a> <a href="#v:getLocalProposalNVotes" class="selflink">#</a></p><div class="doc"><p>Get update proposal with given id if it is known.</p></div></div><div class="top"><p class="src"><a id="v:processProposal" class="def">processProposal</a> :: USLocalLogicMode m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateProposal">UpdateProposal</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Either.html#t:Either">Either</a> PollVerFailure ()) <a href="src/Pos.Update.Logic.Local.html#processProposal" class="link">Source</a> <a href="#v:processProposal" class="selflink">#</a></p><div class="doc"><p>Process proposal received from network, checking it against
 current state (global + local) and adding to local state if it's
 valid with respect to it.
 If proposal is added to store, 'Right ()' is returned.
 Otherwise 'Left err' is returned and <code>err</code> lets caller decide whether
 sender could be sure that error would happen.</p></div></div><h1 id="g:2">Votes</h1><div class="top"><p class="src"><a id="v:isVoteNeeded" class="def">isVoteNeeded</a> :: USLocalLogicMode m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpId">UpId</a> -&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Crypto-Signing.html#t:PublicKey">PublicKey</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> -&gt; m <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="src/Pos.Update.Logic.Local.html#isVoteNeeded" class="link">Source</a> <a href="#v:isVoteNeeded" class="selflink">#</a></p><div class="doc"><p>This function returns true if update vote proposal with given
 identifier issued by stakeholder with given PublicKey and with
 given decision should be requested.</p></div></div><div class="top"><p class="src"><a id="v:getLocalVote" class="def">getLocalVote</a> :: (<a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Util-Context.html#t:HasContext">HasContext</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Context.html#t:UpdateContext">UpdateContext</a> m, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpId">UpId</a> -&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Crypto-Signing.html#t:PublicKey">PublicKey</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateVote">UpdateVote</a>) <a href="src/Pos.Update.Logic.Local.html#getLocalVote" class="link">Source</a> <a href="#v:getLocalVote" class="selflink">#</a></p><div class="doc"><p>Get update vote for proposal with given id from given issuer and
 with given decision if it is known.</p></div></div><div class="top"><p class="src"><a id="v:processVote" class="def">processVote</a> :: USLocalLogicMode m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdateVote">UpdateVote</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Either.html#t:Either">Either</a> PollVerFailure ()) <a href="src/Pos.Update.Logic.Local.html#processVote" class="link">Source</a> <a href="#v:processVote" class="selflink">#</a></p><div class="doc"><p>Process vote received from network, checking it against
 current state (global + local) and adding to local state if it's
 valid with respect to it.
 If vote is added to store, 'Right ()' is returned.
 Otherwise 'Left err' is returned and <code>err</code> lets caller decide whether
 sender could be sure that error would happen.</p></div></div><h1 id="g:3">Normalization</h1><div class="top"><p class="src"><a id="v:usNormalize" class="def">usNormalize</a> :: USLocalLogicMode m =&gt; m () <a href="src/Pos.Update.Logic.Local.html#usNormalize" class="link">Source</a> <a href="#v:usNormalize" class="selflink">#</a></p><div class="doc"><p>Remove local data from memory state to make it consistent with
 current GState.  This function assumes that GState is locked. It
 tries to leave as much data as possible. It assumes that
 <code>blkSemaphore</code> is taken.</p></div></div><div class="top"><p class="src"><a id="v:processNewSlot" class="def">processNewSlot</a> :: USLocalLogicMode m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Core-Types.html#t:SlotId">SlotId</a> -&gt; m () <a href="src/Pos.Update.Logic.Local.html#processNewSlot" class="link">Source</a> <a href="#v:processNewSlot" class="selflink">#</a></p><div class="doc"><p>Update memory state to make it correct for given slot.</p></div></div><div class="top"><p class="src"><a id="v:usPreparePayload" class="def">usPreparePayload</a> :: USLocalLogicMode m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-core-0.4.3/docs/Pos-Core-Types.html#t:SlotId">SlotId</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Core-Types.html#t:UpdatePayload">UpdatePayload</a>) <a href="src/Pos.Update.Logic.Local.html#usPreparePayload" class="link">Source</a> <a href="#v:usPreparePayload" class="selflink">#</a></p><div class="doc"><p>Prepare UpdatePayload for inclusion into new block with given
 SlotId.  This function assumes that <code>blkSemaphore</code> is taken and
 nobody can apply/rollback blocks in parallel.
 Sometimes payload can't be created. It can happen if we are trying to
 create block for slot which has already passed, for example.</p></div></div><div class="top"><p class="src"><a id="v:usLrcConsumer" class="def">usLrcConsumer</a> :: <a href="http://hackage.haskell.org/package/cardano-sl-db-0.4.3/docs/Pos-DB-Class.html#t:MonadDBCore">MonadDBCore</a> m =&gt; <a href="http://hackage.haskell.org/package/cardano-sl-lrc-0.4.3/docs/Pos-Lrc-Consumer.html#t:LrcConsumer">LrcConsumer</a> m <a href="src/Pos.Update.Lrc.html#usLrcConsumer" class="link">Source</a> <a href="#v:usLrcConsumer" class="selflink">#</a></p><div class="doc"><p>Consumer will be called on every Richmen computation.</p></div></div><div class="top"><p class="src">module <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-MemState.html">Pos.Update.MemState</a></p></div><div class="top"><p class="src"><a id="v:usListeners" class="def">usListeners</a> :: <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Mode.html#t:UpdateMode">UpdateMode</a> m =&gt; m ([<a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:ListenerSpec">ListenerSpec</a> m], <a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:OutSpecs">OutSpecs</a>) <a href="src/Pos.Update.Network.Listeners.html#usListeners" class="link">Source</a> <a href="#v:usListeners" class="selflink">#</a></p><div class="doc"><p>Listeners for requests related to update system</p></div></div><div class="top"><p class="src"><a id="v:usStubListeners" class="def">usStubListeners</a> :: <a href="http://hackage.haskell.org/package/log-warper-1.1.2/docs/System-Wlog-CanLog.html#t:WithLogger">WithLogger</a> m =&gt; ([<a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:ListenerSpec">ListenerSpec</a> m], <a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:OutSpecs">OutSpecs</a>) <a href="src/Pos.Update.Network.Listeners.html#usStubListeners" class="link">Source</a> <a href="#v:usStubListeners" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ProposalMsgTag" class="def">ProposalMsgTag</a> <a href="src/Pos.Update.Network.Types.html#ProposalMsgTag" class="link">Source</a> <a href="#t:ProposalMsgTag" class="selflink">#</a></p><div class="doc"><p>Tag for proposal messages</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ProposalMsgTag" class="def">ProposalMsgTag</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ProposalMsgTag" class="caption collapser" onclick="toggleSection('i:ProposalMsgTag')">Instances</p><div id="section.i:ProposalMsgTag" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ProposalMsgTag:Eq:1" class="instance expander" onclick="toggleSection('i:id:ProposalMsgTag:Eq:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Eq.html#t:Eq">Eq</a> <a href="Pos-Update.html#t:ProposalMsgTag">ProposalMsgTag</a></span> <a href="src/Pos.Update.Network.Types.html#line-12" class="link">Source</a> <a href="#t:ProposalMsgTag" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ProposalMsgTag:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Pos-Update.html#t:ProposalMsgTag">ProposalMsgTag</a> -&gt; <a href="Pos-Update.html#t:ProposalMsgTag">ProposalMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Pos-Update.html#t:ProposalMsgTag">ProposalMsgTag</a> -&gt; <a href="Pos-Update.html#t:ProposalMsgTag">ProposalMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ProposalMsgTag:Show:2" class="instance expander" onclick="toggleSection('i:id:ProposalMsgTag:Show:2')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:Show">Show</a> <a href="Pos-Update.html#t:ProposalMsgTag">ProposalMsgTag</a></span> <a href="src/Pos.Update.Network.Types.html#line-12" class="link">Source</a> <a href="#t:ProposalMsgTag" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ProposalMsgTag:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Pos-Update.html#t:ProposalMsgTag">ProposalMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Pos-Update.html#t:ProposalMsgTag">ProposalMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Pos-Update.html#t:ProposalMsgTag">ProposalMsgTag</a>] -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ProposalMsgTag:Buildable:3" class="instance expander" onclick="toggleSection('i:id:ProposalMsgTag:Buildable:3')"></span> <a href="http://hackage.haskell.org/package/formatting-6.2.4/docs/Formatting-Formatters.html#t:Buildable">Buildable</a> <a href="Pos-Update.html#t:ProposalMsgTag">ProposalMsgTag</a></span> <a href="src/Pos.Update.Network.Types.html#line-14" class="link">Source</a> <a href="#t:ProposalMsgTag" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ProposalMsgTag:Buildable:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:build">build</a> :: <a href="Pos-Update.html#t:ProposalMsgTag">ProposalMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text-Lazy-Builder.html#t:Builder">Builder</a> <a href="#v:build" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:VoteMsgTag" class="def">VoteMsgTag</a> <a href="src/Pos.Update.Network.Types.html#VoteMsgTag" class="link">Source</a> <a href="#t:VoteMsgTag" class="selflink">#</a></p><div class="doc"><p>Tag for vote messages</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:VoteMsgTag" class="def">VoteMsgTag</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:VoteMsgTag" class="caption collapser" onclick="toggleSection('i:VoteMsgTag')">Instances</p><div id="section.i:VoteMsgTag" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:VoteMsgTag:Eq:1" class="instance expander" onclick="toggleSection('i:id:VoteMsgTag:Eq:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Eq.html#t:Eq">Eq</a> <a href="Pos-Update.html#t:VoteMsgTag">VoteMsgTag</a></span> <a href="src/Pos.Update.Network.Types.html#line-18" class="link">Source</a> <a href="#t:VoteMsgTag" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:VoteMsgTag:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Pos-Update.html#t:VoteMsgTag">VoteMsgTag</a> -&gt; <a href="Pos-Update.html#t:VoteMsgTag">VoteMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Pos-Update.html#t:VoteMsgTag">VoteMsgTag</a> -&gt; <a href="Pos-Update.html#t:VoteMsgTag">VoteMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:VoteMsgTag:Show:2" class="instance expander" onclick="toggleSection('i:id:VoteMsgTag:Show:2')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:Show">Show</a> <a href="Pos-Update.html#t:VoteMsgTag">VoteMsgTag</a></span> <a href="src/Pos.Update.Network.Types.html#line-18" class="link">Source</a> <a href="#t:VoteMsgTag" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:VoteMsgTag:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Pos-Update.html#t:VoteMsgTag">VoteMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Pos-Update.html#t:VoteMsgTag">VoteMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Pos-Update.html#t:VoteMsgTag">VoteMsgTag</a>] -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:VoteMsgTag:Buildable:3" class="instance expander" onclick="toggleSection('i:id:VoteMsgTag:Buildable:3')"></span> <a href="http://hackage.haskell.org/package/formatting-6.2.4/docs/Formatting-Formatters.html#t:Buildable">Buildable</a> <a href="Pos-Update.html#t:VoteMsgTag">VoteMsgTag</a></span> <a href="src/Pos.Update.Network.Types.html#line-20" class="link">Source</a> <a href="#t:VoteMsgTag" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:VoteMsgTag:Buildable:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:build">build</a> :: <a href="Pos-Update.html#t:VoteMsgTag">VoteMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text-Lazy-Builder.html#t:Builder">Builder</a> <a href="#v:build" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src">module <a href="http://hackage.haskell.org/package/cardano-sl-update-0.4.3/docs/Pos-Update-Params.html">Pos.Update.Params</a></p></div><div class="top"><p class="src"><a id="v:usWorkers" class="def">usWorkers</a> :: <a href="Pos-WorkMode.html#t:WorkMode">WorkMode</a> ssc m =&gt; m (<a href="http://hackage.haskell.org/package/containers-0.5.7.1/docs/Data-Set.html#t:Set">Set</a> <a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:NodeId">NodeId</a>) -&gt; ([<a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:WorkerSpec">WorkerSpec</a> m], <a href="http://hackage.haskell.org/package/cardano-sl-infra-0.4.3/docs/Pos-Communication-Types-Protocol.html#t:OutSpecs">OutSpecs</a>) <a href="src/Pos.Update.Worker.html#usWorkers" class="link">Source</a> <a href="#v:usWorkers" class="selflink">#</a></p><div class="doc"><p>Update System related workers.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>